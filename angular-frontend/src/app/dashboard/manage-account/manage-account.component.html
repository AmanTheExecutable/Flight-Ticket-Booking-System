<div class="manage-account">
  <h2>Manage My Account</h2>
  <div class="user-details" [formGroup]="userForm">
    <h3>User Details</h3>
    <div>
      <p>Name: {{ userDetails.username }}</p>
      <div *ngIf="editMode">
        <input type="text" formControlName="username" />
      </div>

      <p>Email: {{ userDetails.email }}</p>
      <div *ngIf="editMode">
        <input type="email" formControlName="email" />
      </div>

      <p>Address: {{ userDetails.address }}</p>
      <div *ngIf="editMode">
        <input type="text" formControlName="address" />
      </div>

      <p>Phone: {{ userDetails.phoneNo }}</p>
      <div *ngIf="editMode">
        <input type="text" formControlName="phoneNo" />
      </div>

      <p>DOB: {{ userDetails.dob }}</p>
      <div *ngIf="editMode">
        <input type="date" formControlName="dob" />
      </div>
    </div>
    <div *ngIf="!editMode"><button (click)="enableForm()">Edit</button></div>
    <div *ngIf="editMode">
      <button (click)="saveChanges()">Save</button>
      <button (click)="cancelChanges()">Cancel</button>
    </div>
  </div>

  <div class="bookings">
    <h3>My Bookings</h3>

    <!-- confirmed bookings -->
    <div *ngIf="confirmedBookings && confirmedBookings.length">
      <h4>Confirmed Bookings</h4>
      <ul>
        <li *ngFor="let booking of confirmedBookings">
          Flight Number: {{ booking.travelID }} | Date:
          {{ booking.departureDate }} | Destination: {{ booking.destination }}
        </li>
      </ul>

      <div *ngIf="pastBookings && pastBookings.length">
        <h4>Past Bookings</h4>
        <ul>
          <li *ngFor="let booking of pastBookings">
            Flight Number: {{ booking.travelID }} | Date:
            {{ booking.departureDate }} | Destination: {{ booking.destination }}
          </li>
        </ul>
      </div>
      <div *ngIf="futureBookings && futureBookings.length">
        <h4>Future Bookings</h4>
        <ul>
          <li *ngFor="let booking of futureBookings">
            Flight Number: {{ booking.travelID }} | Date:
            {{ booking.departureDate }} | Destination: {{ booking.destination }}
          </li>
        </ul>
      </div>
      <div
        *ngIf="
          !pastBookings ||
          (pastBookings.length === 0 && !futureBookings) ||
          futureBookings.length === 0
        "
      >
        No bookings found.
      </div>
    </div>
  </div>
</div>
